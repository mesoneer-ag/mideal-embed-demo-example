{"ast":null,"code":"import MidealEmbed from '@mesoneer-ag/mideal-embed-dev';\nimport { ModalComponent } from './modal-component/modal-component.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nexport class AppComponent {\n  constructor(dialog) {\n    this.dialog = dialog;\n    this.title = 'test-angular-app';\n    this.startUrl = '';\n  }\n  openModal() {\n    this.startUrl = document.getElementById('startUrl').value;\n    const dialogRef = this.dialog.open(ModalComponent, {\n      width: '100%',\n      data: {\n        name: 'Mideal Embed'\n      }\n    });\n    dialogRef.afterOpened().subscribe(() => {\n      const mideal = new MidealEmbed();\n      mideal.start({\n        ubiIdEndpoint: this.startUrl,\n        enclosingDomElement: document.getElementById('iframe-container'),\n        style: {\n          width: '100%',\n          height: '860px'\n        },\n        onMessage: this.handleReceivedMessage\n      });\n    });\n  }\n  handleReceivedMessage(result) {\n    const messageElement = document.getElementById('ubiidStatus');\n    const messageTimeElement = document.getElementById('ubiidStatusTime');\n    const statusReasonElement = document.getElementById('statusReason');\n    const statusDetailsElement = document.getElementById('statusDetails');\n    const {\n      scanResult,\n      date,\n      statusReason,\n      statusDetails\n    } = result;\n    if (messageElement) {\n      messageElement.innerHTML = scanResult ?? 'NO_STATUS';\n    }\n    if (messageTimeElement) {\n      messageTimeElement.innerHTML = date ?? '-------';\n    }\n    if (statusReasonElement) {\n      statusReasonElement.innerHTML = statusReason ?? '';\n    }\n    if (statusDetailsElement) {\n      statusDetailsElement.innerHTML = statusDetails ?? '';\n    }\n  }\n  static #_ = this.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.MatDialog));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    decls: 40,\n    vars: 0,\n    consts: [[1, \"header\"], [\"src\", \"./assets/mesoneer-logo.svg\"], [2, \"line-height\", \"80px\"], [1, \"input-section\"], [\"for\", \"startUrl\"], [\"type\", \"text\", \"id\", \"startUrl\", \"name\", \"startUrl\"], [3, \"click\"], [1, \"status-section\"], [\"id\", \"scanResult\"], [\"id\", \"ubiidStatusTime\"], [\"id\", \"statusReason\"], [\"id\", \"statusDetails\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"body\")(1, \"div\", 0);\n        i0.ɵɵelement(2, \"img\", 1);\n        i0.ɵɵelementStart(3, \"h1\", 2);\n        i0.ɵɵtext(4, \"Embedded m_IDeal Showcase\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"div\", 3)(6, \"label\", 4);\n        i0.ɵɵtext(7, \"URL:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(8, \"br\")(9, \"input\", 5)(10, \"br\");\n        i0.ɵɵelementStart(11, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_11_listener() {\n          return ctx.openModal();\n        });\n        i0.ɵɵtext(12, \"Open Modal\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(13, \"br\")(14, \"br\")(15, \"hr\");\n        i0.ɵɵelementStart(16, \"div\", 7)(17, \"p\")(18, \"b\");\n        i0.ɵɵtext(19, \"Result:\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"p\")(21, \"span\");\n        i0.ɵɵtext(22, \"scanResult: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"span\", 8);\n        i0.ɵɵtext(24, \"No status\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(25, \"p\")(26, \"span\");\n        i0.ɵɵtext(27, \"Timestamp: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"span\", 9);\n        i0.ɵɵtext(29, \"-\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(30, \"p\")(31, \"span\");\n        i0.ɵɵtext(32, \"statusReason: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"span\", 10);\n        i0.ɵɵtext(34, \"-\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(35, \"p\")(36, \"span\");\n        i0.ɵɵtext(37, \"statusDetails: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"span\", 11);\n        i0.ɵɵtext(39, \"-\");\n        i0.ɵɵelementEnd()()()();\n      }\n    },\n    styles: [\"body[_ngcontent-%COMP%] {\\n  font-family: Arial, Helvetica, sans-serif;\\n}\\n\\n\\n@keyframes _ngcontent-%COMP%_animatetop {\\n  from {\\n    top: -300px;\\n    opacity: 0;\\n  }\\n  to {\\n    top: 0;\\n    opacity: 1;\\n  }\\n}\\n\\n.close[_ngcontent-%COMP%] {\\n  color: black;\\n  float: right;\\n  font-size: 28px;\\n  font-weight: bold;\\n}\\n\\n.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus {\\n  color: #000;\\n  text-decoration: none;\\n  cursor: pointer;\\n}\\n\\n.responsive-iframe[_ngcontent-%COMP%] {\\n  top: 0;\\n  left: 0;\\n  bottom: 0;\\n  right: 0;\\n  width: 100%;\\n  height: 100%;\\n  border: none;\\n}\\n\\n.status-section[_ngcontent-%COMP%] {\\n  border: solid 1px black;\\n  border-radius: 5px;\\n  width: 50%;\\n  margin: auto;\\n  padding: 10px;\\n}\\n\\n.centered[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n\\n.header[_ngcontent-%COMP%] {\\n  padding-left: 50px;\\n  text-align: center;\\n  color: #422982;\\n}\\n\\n#myBtn[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n  font-size: 16px;\\n  margin: auto;\\n  display: flex;\\n}\\n\\nhr[_ngcontent-%COMP%] {\\n  width: 60%;\\n}\\n\\n.input-section[_ngcontent-%COMP%] {\\n  width: 50%;\\n  margin: auto;\\n  padding: 10px;\\n}\\n\\n#startUrl[_ngcontent-%COMP%] {\\n  margin: auto;\\n  width: 100%;\\n  display: block;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXBwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kseUNBQUE7QUFDSjs7QUFFRSxrQkFBQTtBQU1BO0VBQ0U7SUFBTSxXQUFBO0lBQVksVUFBQTtFQVFwQjtFQVBFO0lBQUksTUFBQTtJQUFPLFVBQUE7RUFXYjtBQUNGO0FBVEUscUJBQUE7QUFDQTtFQUNFLFlBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0FBV0o7O0FBUkU7O0VBRUUsV0FBQTtFQUNBLHFCQUFBO0VBQ0EsZUFBQTtBQVdKOztBQVJFO0VBQ0ksTUFBQTtFQUNBLE9BQUE7RUFDQSxTQUFBO0VBQ0EsUUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtBQVdOOztBQVJFO0VBQ0UsdUJBQUE7RUFDQSxrQkFBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtBQVdKOztBQVJFO0VBQ0Usa0JBQUE7QUFXSjs7QUFSRTtFQUNFLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxjQUFBO0FBV0o7O0FBUkU7RUFDRSxpQkFBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtBQVdKOztBQVJFO0VBQ0UsVUFBQTtBQVdKOztBQVJFO0VBQ0UsVUFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0FBV0o7O0FBUkU7RUFDRSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGNBQUE7QUFXSiIsInNvdXJjZXNDb250ZW50IjpbImJvZHkge1xuICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xuICB9XG4gIFxuICAvKiBBZGQgQW5pbWF0aW9uICovXG4gIEAtd2Via2l0LWtleWZyYW1lcyBhbmltYXRldG9wIHtcbiAgICBmcm9tIHt0b3A6LTMwMHB4OyBvcGFjaXR5OjB9IFxuICAgIHRvIHt0b3A6MDsgb3BhY2l0eToxfVxuICB9XG4gIFxuICBAa2V5ZnJhbWVzIGFuaW1hdGV0b3Age1xuICAgIGZyb20ge3RvcDotMzAwcHg7IG9wYWNpdHk6MH1cbiAgICB0byB7dG9wOjA7IG9wYWNpdHk6MX1cbiAgfVxuICBcbiAgLyogVGhlIENsb3NlIEJ1dHRvbiAqL1xuICAuY2xvc2Uge1xuICAgIGNvbG9yOiBibGFjaztcbiAgICBmbG9hdDogcmlnaHQ7XG4gICAgZm9udC1zaXplOiAyOHB4O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICB9XG4gIFxuICAuY2xvc2U6aG92ZXIsXG4gIC5jbG9zZTpmb2N1cyB7XG4gICAgY29sb3I6ICMwMDA7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuICBcbiAgLnJlc3BvbnNpdmUtaWZyYW1lIHtcbiAgICAgIHRvcDogMDtcbiAgICAgIGxlZnQ6IDA7XG4gICAgICBib3R0b206IDA7XG4gICAgICByaWdodDogMDtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgYm9yZGVyOiBub25lO1xuICB9XG4gIFxuICAuc3RhdHVzLXNlY3Rpb24ge1xuICAgIGJvcmRlcjogc29saWQgMXB4IGJsYWNrO1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICB3aWR0aDogNTAlO1xuICAgIG1hcmdpbjogYXV0bztcbiAgICBwYWRkaW5nOiAxMHB4O1xuICB9XG4gIFxuICAuY2VudGVyZWQge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuICBcbiAgLmhlYWRlciB7XG4gICAgcGFkZGluZy1sZWZ0OiA1MHB4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBjb2xvcjogIzQyMjk4MjtcbiAgfVxuICBcbiAgI215QnRuIHtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBmb250LXNpemU6IDE2cHg7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gIH1cbiAgXG4gIGhyIHtcbiAgICB3aWR0aDogNjAlO1xuICB9XG4gIFxuICAuaW5wdXQtc2VjdGlvbiB7XG4gICAgd2lkdGg6IDUwJTtcbiAgICBtYXJnaW46IGF1dG87XG4gICAgcGFkZGluZzogMTBweDtcbiAgfVxuICBcbiAgI3N0YXJ0VXJsIHtcbiAgICBtYXJnaW46IGF1dG87XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gIH0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"mappings":"AAEA,OAAOA,WAAW,MAAM,+BAA+B;AACvD,SAASC,cAAc,QAAQ,6CAA6C;;;AAO5E,OAAM,MAAOC,YAAY;EAKvBC,YAAmBC,MAAiB;IAAjB,WAAM,GAANA,MAAM;IAJzB,UAAK,GAAG,kBAAkB;IAKxB,IAAI,CAACC,QAAQ,GAAG,EAAE;EACpB;EAEAC,SAAS;IACP,IAAI,CAACD,QAAQ,GAAIE,QAAQ,CAACC,cAAc,CAAC,UAAU,CAAsB,CAACC,KAAK;IAC/E,MAAMC,SAAS,GAAG,IAAI,CAACN,MAAM,CAACO,IAAI,CAACV,cAAc,EAAE;MACjDW,KAAK,EAAE,MAAM;MACbC,IAAI,EAAE;QAAEC,IAAI,EAAE;MAAc;KAC7B,CAAC;IAEFJ,SAAS,CAACK,WAAW,EAAE,CAACC,SAAS,CAAC,MAAK;MACrC,MAAMC,MAAM,GAAG,IAAIjB,WAAW,EAAE;MAChCiB,MAAM,CAACC,KAAK,CAAC;QACXC,aAAa,EAAE,IAAI,CAACd,QAAQ;QAC5Be,mBAAmB,EAAEb,QAAQ,CAACC,cAAc,CAAC,kBAAkB,CAAgB;QAC/Ea,KAAK,EAAE;UACLT,KAAK,EAAE,MAAM;UACbU,MAAM,EAAE;SACT;QACDC,SAAS,EAAE,IAAI,CAACC;OACjB,CAAC;IACJ,CAAC,CAAC;EAEJ;EAEAA,qBAAqB,CAACC,MAAW;IAC/B,MAAMC,cAAc,GAAGnB,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC;IAC7D,MAAMmB,kBAAkB,GAAGpB,QAAQ,CAACC,cAAc,CAAC,iBAAiB,CAAC;IACrE,MAAMoB,mBAAmB,GAAGrB,QAAQ,CAACC,cAAc,CAAC,cAAc,CAAC;IACnE,MAAMqB,oBAAoB,GAAGtB,QAAQ,CAACC,cAAc,CAAC,eAAe,CAAC;IACrE,MAAM;MAAEsB,UAAU;MAAEC,IAAI;MAAEC,YAAY;MAAEC;IAAa,CAAE,GAAGR,MAAM;IAChE,IAAGC,cAAc,EAAE;MACjBA,cAAc,CAACQ,SAAS,GAAGJ,UAAU,IAAI,WAAW;;IAEtD,IAAGH,kBAAkB,EAAE;MACrBA,kBAAkB,CAACO,SAAS,GAAGH,IAAI,IAAI,SAAS;;IAElD,IAAGH,mBAAmB,EAAE;MACtBA,mBAAmB,CAACM,SAAS,GAAGF,YAAY,IAAI,EAAE;;IAEpD,IAAGH,oBAAoB,EAAE;MACvBA,oBAAoB,CAACK,SAAS,GAAGD,aAAa,IAAI,EAAE;;EAExD;EAAC;qBAjDU/B,YAAY;EAAA;EAAA;UAAZA,YAAY;IAAAiC;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCVzBC,4BAAM;QAEFA,yBAAwC;QACxCA,6BAA8B;QAAAA,yCAAyB;QAAAA,iBAAK;QAG9DA,8BAA2B;QACHA,oBAAI;QAAAA,iBAAQ;QAAAA,qBAAI;QAItCA,kCAA8B;QAAtBA;UAAA,OAASC,eAAW;QAAA,EAAC;QAACD,2BAAU;QAAAA,iBAAS;QAGnDA,sBAAM;QAENA,+BAA4B;QACpBA,wBAAO;QAAAA,iBAAI;QACjBA,0BAAG;QACKA,6BAAY;QAAAA,iBAAO;QACzBA,gCAAsB;QAAAA,0BAAS;QAAAA,iBAAO;QAExCA,0BAAG;QACKA,4BAAW;QAAAA,iBAAO;QACxBA,gCAA2B;QAAAA,kBAAC;QAAAA,iBAAO;QAErCA,0BAAG;QACKA,+BAAc;QAAAA,iBAAO;QAC3BA,iCAAwB;QAAAA,kBAAC;QAAAA,iBAAO;QAClCA,0BAAG;QACKA,gCAAe;QAAAA,iBAAO;QAC5BA,iCAAyB;QAAAA,kBAAC;QAAAA,iBAAO","names":["MidealEmbed","ModalComponent","AppComponent","constructor","dialog","startUrl","openModal","document","getElementById","value","dialogRef","open","width","data","name","afterOpened","subscribe","mideal","start","ubiIdEndpoint","enclosingDomElement","style","height","onMessage","handleReceivedMessage","result","messageElement","messageTimeElement","statusReasonElement","statusDetailsElement","scanResult","date","statusReason","statusDetails","innerHTML","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/Users/nguyenvantai/Documents/ubiid/mideal-embed-demo-example/examples/mideal-embedding-angular/src/app/app.component.ts","/Users/nguyenvantai/Documents/ubiid/mideal-embed-demo-example/examples/mideal-embedding-angular/src/app/app.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport MidealEmbed from '@mesoneer-ag/mideal-embed-dev';\nimport { ModalComponent } from './modal-component/modal-component.component';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'test-angular-app';\n\n  startUrl: string;\n\n  constructor(public dialog: MatDialog) {\n    this.startUrl = '';\n  }\n\n  openModal(): void {\n    this.startUrl = (document.getElementById('startUrl') as HTMLInputElement).value;\n    const dialogRef = this.dialog.open(ModalComponent, {\n      width: '100%',\n      data: { name: 'Mideal Embed' },\n    });\n\n    dialogRef.afterOpened().subscribe(() => {\n      const mideal = new MidealEmbed();\n      mideal.start({\n        ubiIdEndpoint: this.startUrl,\n        enclosingDomElement: document.getElementById('iframe-container') as HTMLElement,\n        style: {\n          width: '100%',\n          height: '860px',\n        },\n        onMessage: this.handleReceivedMessage,\n      });\n    });\n\n  }\n\n  handleReceivedMessage(result: any): void {\n    const messageElement = document.getElementById('ubiidStatus');\n    const messageTimeElement = document.getElementById('ubiidStatusTime');\n    const statusReasonElement = document.getElementById('statusReason');\n    const statusDetailsElement = document.getElementById('statusDetails');\n    const { scanResult, date, statusReason, statusDetails } = result;\n    if(messageElement) {\n      messageElement.innerHTML = scanResult ?? 'NO_STATUS';\n    }\n    if(messageTimeElement) {\n      messageTimeElement.innerHTML = date ?? '-------';\n    }\n    if(statusReasonElement) {\n      statusReasonElement.innerHTML = statusReason ?? '';\n    }\n    if(statusDetailsElement) {\n      statusDetailsElement.innerHTML = statusDetails ?? '';\n    }\n  }\n}\n","<body>\n  <div class=\"header\">\n    <img src=\"./assets/mesoneer-logo.svg\" />\n    <h1 style=\"line-height: 80px\">Embedded m_IDeal Showcase</h1>\n  </div>\n\n  <div class=\"input-section\">\n    <label for=\"startUrl\">URL:</label><br>\n    <input type=\"text\" id=\"startUrl\" name=\"startUrl\">\n    <br>\n    <!-- Trigger/Open The Modal -->\n    <button (click)=\"openModal()\">Open Modal</button>\n  </div>\n  \n  <br /><br />\n  <hr />\n  <div class=\"status-section\">\n    <p><b>Result:</b></p>\n    <p>\n      <span>scanResult: </span>\n      <span id=\"scanResult\">No status</span>\n    </p>\n    <p>\n      <span>Timestamp: </span>\n      <span id=\"ubiidStatusTime\">-</span>\n    </p>\n    <p>\n      <span>statusReason: </span>\n      <span id=\"statusReason\">-</span>\n    <p>\n      <span>statusDetails: </span>\n      <span id=\"statusDetails\">-</span>\n    </p>\n  </div>\n\n</body>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}